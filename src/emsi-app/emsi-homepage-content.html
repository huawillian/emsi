<link rel="import" href="../../bower_components/polymer/polymer.html">

<!-- custom elements -->
<link rel="import" href="emsi-button.html">
<link rel="import" href="emsi-firebase-document.html">

<dom-module id="emsi-homepage-content">
	<template>
		<style>
			:host {
				display: block;	
				text-align: left;
				background-color: white;
			}

			.title {
				padding-left: 10vw;
				color: #236192;
				font-weight: 700;
				font-size: 18pt;
				font-family: MyriadProBold;
				letter-spacing: 2px;
			}

			.content {
				padding-top: 6vh;
				padding-left: 10vw;
				padding-right: 10vw;
				color: rgba(0,0,0,0.6);
				font-weight: 400;
				font-size: 12pt;
				line-height: 1.5;
				font-family: MyriadProRegular;
			}

			emsi-button {
				margin-left: 10vw;
				margin-top: 6vh;
			}

			@media screen and (max-width: 1000px) and (min-width: 800px) {
				.title {
					padding-left: 8vw;
					font-size: 25px;
				}

				.content {
					padding-top: 4vh;
					padding-left: 8vw;
					padding-right: 8vw;
					font-size: 16px;
					line-height: 1.4;
				}

				emsi-button {
					margin-left: 8vw;
					margin-top: 4vh;
				}
			}


			@media screen and (max-width: 800px) and (min-width: 500px){
				.title {
					padding-left: 15vw;
					font-size: 35px;
				}

				.content {
					padding-top: 6vh;
					padding-left: 15vw;
					padding-right: 15vw;
					font-size: 20px;
					line-height: 1.5;
				}

				emsi-button {
					margin-left: 15vw;
					margin-top: 8vh;
				}
			}

			@media screen and (max-width: 500px) {
				.title {
					padding-left: 8vw;
					font-size: 22px;
				}

				.content {
					padding-top: 3vh;
					padding-left: 8vw;
					padding-right: 8vw;
					font-size: 15px;
					line-height: 1.4;
				}

				emsi-button {
			    margin-left: 7vw;
    			margin-top: 5vh;
				}
			}
		</style>
		<div class="title">
			<emsi-firebase-document my-path="{{titlePath}}" lang="{{lang}}" display> </emsi-firebase-document>
		</div>
		<div class="content">
			<emsi-firebase-document my-path="{{contentPath}}" lang="{{lang}}" display> </emsi-firebase-document>
		</div>

		<template is="dom-if" if="[[isEnglish]]">
			<emsi-button color="brown" on-tap="changeRoute">
				LEARN MORE
			</emsi-button>
		</template>

		<template is="dom-if" if="[[!isEnglish]]">
			<emsi-button color="brown" on-tap="changeRoute">
				? CHINESE LEARN ?
			</emsi-button>
		</template>
	</template>

	<script>
		class EMSIHomepageContent extends Polymer.Element {
			static get is() { return 'emsi-homepage-content'; }
      static get observers() { return [ 'languageChanged(lang)' ]; }
      languageChanged(val) { this.isEnglish = val === "en"; }

			static get properties() { 
				return {
					sectionPath: {
						type: String,
						observer: "sectionPathChanged"
					},
					titlePath: String,
					contentPath: String,
				};
			}

			sectionPathChanged(newValue, oldValue) {
				this.titlePath = newValue + "/title";
				this.contentPath = newValue + "/text";
			}

			changeRoute() {
				if(this.title == "ABOUT US") {
					// this.fire("emsi-route-change-event", {route: "about"});
				} else if(this.title == "LOCATIONS") {
					// this.fire("emsi-route-change-event", {route: "search"});
				} else if(this.title == "MISSIONS") {
					// this.fire("emsi-route-change-event", {route: "missions"});
				} else if(this.title == "SEMINARY") {
					// this.fire("emsi-route-change-event", {route: "seminary"});
				}
			}
		}

		window.customElements.define(EMSIHomepageContent.is, EMSIHomepageContent);
	</script>
</dom-module>