<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-toolbar/paper-toolbar.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">

<!-- Custom Elements -->
<link rel="import" href="emsi-logo.html">
<link rel="import" href="emsi-navbar-mobile.html">
<link rel="import" href="emsi-language-button.html">
<link rel="import" href="emsi-user-button.html">

<dom-module id="emsi-toolbar-mobile">
	<template>
		<style>
			:host {
				display: block;
			}

			paper-toolbar {
				height: 60pt;
				background-color: white;
				position: fixed;
				width: 100vw;
				box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14),
				          0 1px 5px 0 rgba(0, 0, 0, 0.12),
				          0 3px 1px -2px rgba(0, 0, 0, 0.2);
			}

			paper-icon-button {
				position: absolute;
				height: 40pt;
				width: 40pt;
				border-radius: 50%;
				top: 12pt;
				right: 12pt;
				color: rgba(0,0,0,0.6);
			}

			paper-icon-button:hover {
				background-color: rgba(0,0,0, 0.2);
			}

		</style>		

		<paper-toolbar>
			<!-- Left Side of Toolbar -->
			<emsi-logo> </emsi-logo>
			<emsi-navbar-mobile class="navbar"> </emsi-navbar-mobile>

			<span class="title"> </span> <!-- Empty Element -->
			<!-- Right Side of Toolbar -->
			<emsi-language-button> </emsi-language-button>
			<paper-icon-button icon="{{icon}}" on-click="toggleNavbarMenu"></paper-icon-button>
		</paper-toolbar>

	</template>
	<script>
		Polymer({
			is: 'emsi-toolbar-mobile' ,

			properties: {
				icon: {
					type: String,
					value: 'menu',
				}
			},

			listeners: {
				"emsi-route-change-event": "routeChangedEventHandler"
			},

			routeChangedEventHandler: function() {
				this.$$(".navbar").hideMenu();
				this.icon = "menu";
			},

			toggleNavbarMenu: function() {
				if(this.icon == "menu") {
					this.$$(".navbar").showMenu();
					this.icon = "clear";
				} else {
					this.$$(".navbar").hideMenu();
					this.icon = "menu";
				}
			}
		});
	</script>
</dom-module>